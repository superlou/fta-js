"use strict"
define("fta-js/adapters/-json-api",["exports","@ember-data/adapter/json-api"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("fta-js/adapters/application",["exports","ember-local-storage/adapters/adapter"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("fta-js/app",["exports","@ember/application","ember-resolver","ember-load-initializers","fta-js/config/environment"],(function(e,t,r,n,i){function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class l extends t.default{constructor(){super(...arguments),o(this,"modulePrefix",i.default.modulePrefix),o(this,"podModulePrefix",i.default.podModulePrefix),o(this,"Resolver",r.default)}}e.default=l,(0,n.default)(l,i.default.modulePrefix)})),define("fta-js/component-managers/glimmer",["exports","@glimmer/component/-private/ember-component-manager"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("fta-js/components/-dynamic-element-alt",["exports","@glimmer/component"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class r extends t.default{}e.default=r})),define("fta-js/components/-dynamic-element",["exports","@glimmer/component"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class r extends t.default{}e.default=r})),define("fta-js/components/basic-dropdown-content",["exports","ember-basic-dropdown/components/basic-dropdown-content"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("fta-js/components/basic-dropdown-trigger",["exports","ember-basic-dropdown/components/basic-dropdown-trigger"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("fta-js/components/basic-dropdown",["exports","ember-basic-dropdown/components/basic-dropdown"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("fta-js/components/maybe-in-element",["exports","ember-maybe-in-element/components/maybe-in-element"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("fta-js/components/mcs-list",["exports","@ember/component","@ember/template-factory","@glimmer/component"],(function(e,t,r,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=(0,r.createTemplateFactory)({id:"2JeSNrKv",block:'[[[10,"ul"],[14,0,"mcs-list"],[12],[1,"\\n"],[42,[28,[37,1],[[28,[37,1],[[30,0,["mcsSets"]]],null]],null],null,[[[1,"    "],[10,"li"],[12],[1,[30,1]],[13],[1,"\\n"]],[1]],null],[13]],["mcs"],false,["each","-track-array"]]',moduleName:"fta-js/components/mcs-list.hbs",isStrictMode:!1})
class o extends n.default{get mcsSets(){let e=this.args.node.minCutSets,t=this.args.node.faultTree,r=[]
if(!e)return"(not solved)"
for(const n of e){let e=[]
for(const r of n){let n=t.nodes.find((e=>e.id===r))
n?e.push(n.ref?n.ref:r):e.push("?")}r.push(e)}return r}}e.default=o,(0,t.setComponentTemplate)(i,o)})),define("fta-js/components/node-editor",["exports","@ember/component","@ember/template-factory","@glimmer/component","@ember/object"],(function(e,t,r,n,i){var o
function l(e,t,r,n,i){var o={}
return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=(0,r.createTemplateFactory)({id:"UW3j5+z9",block:'[[[10,0],[14,0,"node-editor"],[12],[1,"\\n"],[41,[30,0,["showTreeEditor"]],[[[1,"    "],[10,"h1"],[12],[1,"Tree Properties"],[13],[1,"\\n    "],[10,"ul"],[12],[1,"\\n      "],[10,"li"],[14,0,"one-line-property"],[12],[1,"\\n        "],[10,"label"],[12],[1,"ID:"],[13],[1,"\\n        "],[1,[30,1,["id"]]],[1,"\\n      "],[13],[1,"\\n      "],[10,"li"],[14,0,"one-line-property"],[12],[1,"\\n        "],[10,"label"],[12],[1,"Title:"],[13],[1,"\\n          "],[8,[39,1],[[24,3,"node_ref"],[4,[38,2],["keyup",[30,0,["saveTree"]]],null]],[["@type","@value"],["text",[30,1,["title"]]]],null],[1,"\\n      "],[13],[1,"    \\n      "],[10,"li"],[12],[1,"\\n        "],[11,"button"],[24,4,"button"],[4,[38,2],["click",[30,2]],null],[12],[1,"Solve"],[13],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n"]],[]],null],[41,[30,0,["showNodeEditor"]],[[[1,"    "],[10,"h1"],[12],[1,"Node Properties"],[13],[1,"\\n    "],[10,"ul"],[12],[1,"\\n      "],[10,"li"],[14,0,"one-line-property"],[12],[1,"\\n        "],[10,"label"],[12],[1,"ID:"],[13],[1,"\\n        "],[1,[30,3,["id"]]],[1,"\\n      "],[13],[1,"\\n      "],[10,"li"],[14,0,"one-line-property"],[12],[1,"\\n        "],[10,"label"],[14,"for","node_ref"],[12],[1,"Ref:"],[13],[1,"\\n        "],[8,[39,1],[[24,3,"node_ref"],[16,"disabled",[30,0,["disabled"]]],[4,[38,2],["keyup",[30,0,["saveModel"]]],null]],[["@type","@value"],["text",[30,3,["ref"]]]],null],[1,"\\n      "],[13],[1,"\\n      "],[10,"li"],[12],[1,"\\n        "],[10,"label"],[14,"for","node_desc"],[12],[1,"Description:"],[13],[10,"br"],[12],[13],[1,"\\n        "],[8,[39,3],[[24,3,"node_desc"],[16,"disabled",[30,0,["disabled"]]],[4,[38,2],["keyup",[30,0,["saveModel"]]],null]],[["@value"],[[30,3,["desc"]]]],null],[1,"      "],[13],[1,"\\n      "],[10,"li"],[14,0,"one-line-property"],[12],[1,"\\n        "],[10,"label"],[14,"for","node_type"],[14,0,"one-line-property"],[12],[1,"Type:"],[13],[1,"\\n        "],[8,[39,4],null,[["@onChange","@options","@selected"],[[30,0,["changeNodeType"]],[30,0,["nodeTypes"]],[30,3,["nodeType"]]]],[["default"],[[[[1,"\\n          "],[1,[30,4]],[1,"\\n        "]],[4]]]]],[1,"\\n      "],[13],[1,"\\n"],[41,[28,[37,5],[[30,3,["nodeType"]],"basic-event"],null],[[[1,"        "],[10,"li"],[14,0,"one-line-property"],[12],[1,"\\n          "],[10,"label"],[14,"for","failure_rate"],[12],[1,"λ:"],[13],[1,"\\n          "],[8,[39,1],[[24,3,"failure_rate"],[4,[38,2],["keyup",[30,0,["saveModel"]]],null]],[["@type","@value"],["text",[30,3,["failureRate"]]]],null],[1,"\\n        "],[13],[1,"\\n        "],[10,"li"],[14,0,"one-line-property"],[12],[1,"\\n          "],[10,"label"],[14,"for","exposure_time"],[12],[1,"T:"],[13],[1,"\\n          "],[8,[39,1],[[24,3,"exposure_time"],[4,[38,2],["keyup",[30,0,["saveModel"]]],null]],[["@type","@value"],["text",[30,3,["exposureTime"]]]],null],[1,"\\n        "],[13],[1,"\\n        "],[10,"li"],[14,0,"one-line-property"],[12],[1,"\\n          "],[10,"label"],[14,"for","probability"],[12],[1,"p:"],[13],[1,"\\n          "],[8,[39,1],[[24,3,"probability"],[24,"disabled","true"],[4,[38,2],["keyup",[30,0,["saveModel"]]],null]],[["@type","@value"],["text",[30,3,["probability"]]]],null],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"      "],[10,"li"],[12],[1,"\\n        "],[10,"label"],[12],[1,"Minimal Cut Sets:"],[13],[1,"\\n        "],[8,[39,6],null,[["@node"],[[30,3]]],null],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n"]],[]],null],[41,[30,0,["showEdgeEditor"]],[[[1,"    "],[10,"h1"],[12],[1,"Edge Properties"],[13],[1,"\\n    "],[10,"ul"],[12],[1,"\\n      "],[10,"li"],[14,0,"one-line-property"],[12],[1,"\\n        "],[10,"label"],[12],[1,"ID:"],[13],[1,"\\n        "],[1,[30,3,["id"]]],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n"]],[]],null],[13]],["@tree","@solveAll","@model","name"],false,["if","input","on","textarea","power-select","eq","mcs-list"]]',moduleName:"fta-js/components/node-editor.hbs",isStrictMode:!1})
let s=(o=class extends n.default{constructor(){var e,t,r
super(...arguments),r=["and-gate","or-gate","basic-event"],(t="nodeTypes")in(e=this)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}saveModel(e){this.args.model.save()}saveTree(e){this.args.tree.save()}get disabled(){return null==this.args.model}changeNodeType(e){this.args.model.nodeType=e,this.saveModel()}get showTreeEditor(){return!this.args.model}get showNodeEditor(){return this.args.model&&"tree-node"===this.args.model.constructor.modelName}get showEdgeEditor(){return this.args.model&&"tree-edge"===this.args.model.constructor.modelName}},l(o.prototype,"saveModel",[i.action],Object.getOwnPropertyDescriptor(o.prototype,"saveModel"),o.prototype),l(o.prototype,"saveTree",[i.action],Object.getOwnPropertyDescriptor(o.prototype,"saveTree"),o.prototype),l(o.prototype,"changeNodeType",[i.action],Object.getOwnPropertyDescriptor(o.prototype,"changeNodeType"),o.prototype),o)
e.default=s,(0,t.setComponentTemplate)(a,s)})),define("fta-js/components/power-select-multiple",["exports","ember-power-select/components/power-select-multiple"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("fta-js/components/power-select-multiple/trigger",["exports","ember-power-select/components/power-select-multiple/trigger"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("fta-js/components/power-select",["exports","ember-power-select/components/power-select"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("fta-js/components/power-select/before-options",["exports","ember-power-select/components/power-select/before-options"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("fta-js/components/power-select/no-matches-message",["exports","ember-power-select/components/power-select/no-matches-message"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("fta-js/components/power-select/options",["exports","ember-power-select/components/power-select/options"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("fta-js/components/power-select/placeholder",["exports","ember-power-select/components/power-select/placeholder"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("fta-js/components/power-select/power-select-group",["exports","ember-power-select/components/power-select/power-select-group"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("fta-js/components/power-select/search-message",["exports","ember-power-select/components/power-select/search-message"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("fta-js/components/power-select/trigger",["exports","ember-power-select/components/power-select/trigger"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("fta-js/components/tree-builder",["exports","@ember/component","@ember/template-factory","ember-concurrency/-private/async-arrow-runtime","@glimmer/component","@glimmer/tracking","@ember/object","@ember/service","ember-concurrency","fta-js/utils/mocus"],(function(e,t,r,n,i,o,l,a,s,u){var d,c,f,p,b,m,y,g,v,h,j
function P(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e,t,r,n,i){var o={}
return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const _=(0,r.createTemplateFactory)({id:"ozs0gzDo",block:'[[[10,0],[14,0,"tree-builder"],[12],[1,"\\n  "],[11,"svg"],[24,"tabindex","0"],[16,"viewBox",[29,[[30,0,["viewBoxX"]]," ",[30,0,["viewBoxY"]]," ",[30,0,["viewBoxW"]]," ",[30,0,["viewBoxH"]]]]],[4,[38,0],["mousemove",[30,0,["mouseMove"]]],null],[4,[38,0],["mouseup",[30,0,["mouseUp"]]],null],[4,[38,0],["mousedown",[30,0,["mouseDown"]]],null],[4,[38,0],["keydown",[30,0,["keyPress"]]],null],[4,[38,0],["wheel",[30,0,["wheel"]]],null],[4,[38,1],[[30,0,["onResize"]]],null],[12],[1,"\\n"],[42,[28,[37,3],[[28,[37,3],[[30,1,["edges"]]],null]],null],null,[[[1,"      "],[8,[39,4],[[16,0,[29,[[52,[28,[37,6],[[30,3],[30,2]],null],"selected"]]]]],[["@model","@onSelect"],[[30,2],[30,0,["select"]]]],null],[1,"\\n"]],[2]],null],[42,[28,[37,3],[[28,[37,3],[[30,1,["nodes"]]],null]],null],null,[[[1,"      "],[8,[39,7],[[16,0,[29,[[52,[28,[37,6],[[30,3],[30,4]],null],"selected"]]]]],[["@model","@onSelect"],[[30,4],[30,0,["select"]]]],null],[1,"\\n"]],[4]],null],[1,"  "],[13],[1,"\\n  "],[10,0],[14,0,"hotkeys"],[12],[1,"\\n    "],[10,"ul"],[12],[1,"\\n      "],[10,"li"],[12],[10,1],[14,0,"hotkey"],[12],[1,"a"],[13],[1," Add AND"],[13],[1,"\\n      "],[10,"li"],[12],[10,1],[14,0,"hotkey"],[12],[1,"o"],[13],[1," Add OR"],[13],[1,"\\n      "],[10,"li"],[12],[10,1],[14,0,"hotkey"],[12],[1,"e"],[13],[1," Add basic event"],[13],[1,"\\n      "],[10,"li"],[12],[1,"\\n"],[41,[30,0,["isLinking"]],[[[1,"          "],[10,1],[14,0,"hotkey disabled"],[12],[1,"l"],[13],[1,"\\n          "],[10,1],[14,0,"attention"],[12],[1,"Click end"],[13],[1,"\\n"]],[]],[[[1,"          "],[10,1],[14,0,"hotkey"],[12],[1,"l"],[13],[1," Start linking\\n"]],[]]],[1,"      "],[13],[1,"\\n      "],[10,"li"],[12],[1,"\\n"],[41,[30,0,["solveAll","isRunning"]],[[[1,"          "],[10,1],[14,0,"hotkey disabled"],[12],[1,"s"],[13],[1,"\\n          Solving...\\n"]],[]],[[[1,"          "],[10,1],[14,0,"hotkey"],[12],[1,"s"],[13],[1," Solve all\\n"]],[]]],[1,"      "],[13],[1,"\\n      "],[10,"li"],[12],[10,1],[14,0,"hotkey"],[12],[1,"del"],[13],[1," Delete"],[13],[1,"\\n      "],[10,"li"],[12],[10,1],[14,0,"hotkey"],[12],[1,"esc"],[13],[1," Cancel"],[13],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"],[13]],["@tree","edge","@selected","node"],false,["on","on-resize","each","-track-array","tree-edge","if","eq","tree-node"]]',moduleName:"fta-js/components/tree-builder.hbs",isStrictMode:!1})
let x=(d=class extends i.default{constructor(){super(...arguments),P(this,"store",c,this),P(this,"isDragging",f,this),P(this,"isPanning",p,this),P(this,"solution",b,this),P(this,"isLinking",m,this),O(this,"mousePos",[0,0]),P(this,"viewBoxX",y,this),P(this,"viewBoxY",g,this),P(this,"contentW",v,this),P(this,"contentH",h,this),P(this,"zoom",j,this),O(this,"solveAll",(0,n.buildTask)((()=>({context:this,generator:function*(){this.args.solveAll(),yield(0,s.timeout)(100)}})),null,"solveAll",null))}get viewBoxW(){return this.contentW*this.zoom}get viewBoxH(){return this.contentH*this.zoom}async select(e){this.isLinking&&(this.isLinking=!1,this.makeEdge(this.args.selected,e)),this.isDragging=!0,this.args.select(e)}async makeEdge(e,t){if(void 0===e)return void console.log("Tried to link undefined node0!")
if(void 0===t)return void console.log("Tried to link undefined node1!")
if(e==t)return void console.log("Can't link node to itself!")
let r,n;[r,n]=e.y<t.y?[e,t]:[t,e],this.store.createRecord("tree-edge",{faultTree:this.args.tree,child:n,parent:r}).save(),this.args.tree.save(),r.save(),n.save()}mouseMove(e){this.mousePos=[e.clientX,e.clientY],this.isDragging&&this.shiftNode(this.args.selected,e.movementX*this.zoom,e.movementY*this.zoom),this.isPanning&&(this.viewBoxX-=e.movementX*this.zoom,this.viewBoxY-=e.movementY*this.zoom)}mouseDown(e){this.isPanning=!0,this.args.deselect()}wheel(e){let t=e.deltaY
t>0?this.zoom*=1.1:t<0&&(this.zoom/=1.1)}onResize(e){let t=e.contentRect
this.contentW=t.width,this.contentH=t.height}shiftNode(e,t,r){e.x+=t,e.y+=r,e.save()}mouseUp(e){this.isDragging=!1,this.isPanning=!1}async keyPress(e){"s"==e.key?this.solveAll.perform():"a"==e.key?this.createNode("and-gate"):"o"==e.key?this.createNode("or-gate"):"e"==e.key?this.createNode("basic-event"):"Delete"==e.key?"tree-node"==this.args.selected.constructor.modelName?this.deleteNode(this.args.selected):"tree-edge"==this.args.selected.constructor.modelName&&this.deleteEdge(this.args.selected):"l"==e.key&&this.args.selected?this.isLinking=!0:"Escape"==e.key&&(this.isLinking=!1,this.args.deselect())}createNode(e){this.store.createRecord("tree-node",{x:this.mousePos[0],y:this.mousePos[1],nodeType:e,ref:"",desc:"",faultTree:this.args.tree}).save(),this.args.tree.save()}deleteNode(e){const t=this.args.tree
if(!e)return
const r=t.nodes.indexOf(e)
r>-1&&(t.nodes.splice(r,1),this.args.tree.save())
for(let n of e.edges)this.deleteEdge(n)
e.destroyRecord(),e.save()}deleteEdge(e){let t=e.child,r=e.parent,n=e.faultTree,i=t.edges.indexOf(e)
i>-1&&(t.edges.splice(i,1),t.save()),i=r.edges.indexOf(e),i>-1&&(r.edges.splice(i,1),r.save()),i=n.edges.indexOf(e),i>-1&&(n.edges.splice(i,1),n.save()),e.destroyRecord(),e.save()}},c=w(d.prototype,"store",[a.service],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=w(d.prototype,"isDragging",[o.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),p=w(d.prototype,"isPanning",[o.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b=w(d.prototype,"solution",[o.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=w(d.prototype,"isLinking",[o.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=w(d.prototype,"viewBoxX",[o.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=w(d.prototype,"viewBoxY",[o.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=w(d.prototype,"contentW",[o.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=w(d.prototype,"contentH",[o.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=w(d.prototype,"zoom",[o.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),w(d.prototype,"select",[l.action],Object.getOwnPropertyDescriptor(d.prototype,"select"),d.prototype),w(d.prototype,"mouseMove",[l.action],Object.getOwnPropertyDescriptor(d.prototype,"mouseMove"),d.prototype),w(d.prototype,"mouseDown",[l.action],Object.getOwnPropertyDescriptor(d.prototype,"mouseDown"),d.prototype),w(d.prototype,"wheel",[l.action],Object.getOwnPropertyDescriptor(d.prototype,"wheel"),d.prototype),w(d.prototype,"onResize",[l.action],Object.getOwnPropertyDescriptor(d.prototype,"onResize"),d.prototype),w(d.prototype,"mouseUp",[l.action],Object.getOwnPropertyDescriptor(d.prototype,"mouseUp"),d.prototype),w(d.prototype,"keyPress",[l.action],Object.getOwnPropertyDescriptor(d.prototype,"keyPress"),d.prototype),d)
e.default=x,(0,t.setComponentTemplate)(_,x)})),define("fta-js/components/tree-edge",["exports","@ember/component","@ember/template-factory","@glimmer/component","@ember/object"],(function(e,t,r,n,i){var o
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const l=(0,r.createTemplateFactory)({id:"ddOKLM14",block:'[[[11,"g"],[24,0,"tree-edge"],[17,1],[4,[38,0],["mousedown",[30,0,["onMousedown"]]],null],[12],[1,"\\n  "],[10,"path"],[15,"d",[30,0,["pathD"]]],[14,"shape-rendering","optimizeQuality"],[14,0,"outline"],[12],[13],[1,"\\n  "],[10,"path"],[15,"d",[30,0,["pathD"]]],[14,"shape-rendering","optimizeQuality"],[14,0,"edge"],[12],[13],[1,"\\n"],[13]],["&attrs"],false,["on"]]',moduleName:"fta-js/components/tree-edge.hbs",isStrictMode:!1})
let a=(o=class extends n.default{constructor(){var e,t,r
super(...arguments),r=50,(t="edgeCurve")in(e=this)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}get pathD(){let e=this.edgeCurve,t=this.args.model.child.x,r=this.args.model.child.y,n=this.args.model.parent.x,i=this.args.model.parent.y
return`M ${t},${r} C ${t},${r-e}, ${n},${i+e}, ${n},${i}`}onMousedown(e){this.args.onSelect(this.args.model),e.stopPropagation()}},s=o.prototype,u="onMousedown",d=[i.action],c=Object.getOwnPropertyDescriptor(o.prototype,"onMousedown"),f=o.prototype,p={},Object.keys(c).forEach((function(e){p[e]=c[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=d.slice().reverse().reduce((function(e,t){return t(s,u,e)||e}),p),f&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(f):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(s,u,p),p=null),o)
var s,u,d,c,f,p
e.default=a,(0,t.setComponentTemplate)(l,a)})),define("fta-js/components/tree-node",["exports","@ember/component","@ember/template-factory","@glimmer/component","@glimmer/tracking","@ember/object"],(function(e,t,r,n,i,o){var l,a
function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t,r,n,i){var o={}
return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d=(0,r.createTemplateFactory)({id:"pwsXwJBX",block:'[[[11,"g"],[24,0,"tree-node"],[16,"transform",[29,["translate(",[30,1,["x"]],", ",[30,1,["y"]],")"]]],[17,2],[4,[38,0],["mousedown",[30,0,["onMousedown"]]],null],[12],[1,"\\n  "],[10,"path"],[15,"d",[30,0,["pathD"]]],[14,"shape-rendering","optimizeQuality"],[12],[13],[1,"\\n  "],[10,"text"],[14,"x","0"],[14,"y","4"],[14,0,"ref"],[12],[1,"\\n    "],[1,[30,1,["ref"]]],[1,"\\n  "],[13],[1,"\\n  "],[11,"g"],[4,[38,1],[[30,0,["wrapText"]],[30,1,["desc"]],200],null],[4,[38,2],[[30,0,["wrapText"]],[30,1,["desc"]],200],null],[12],[1,"\\n    "],[10,"rect"],[14,"fill","white"],[14,"stroke","black"],[14,"width","100"],[14,"height","100"],[12],[13],[1,"    \\n    "],[10,"text"],[14,0,"desc"],[12],[13],[1,"\\n  "],[13],[1,"\\n"],[41,[30,1,["failureRate"]],[[[1,"    "],[10,"text"],[14,0,"node-prop"],[14,"x","25"],[14,"y","-8"],[12],[1,"λ="],[1,[28,[35,4],[[30,1,["failureRate"]]],null]],[13],[1,"\\n"]],[]],null],[41,[30,1,["exposureTime"]],[[[1,"    "],[10,"text"],[14,0,"node-prop"],[14,"x","25"],[14,"y","5"],[12],[1,"T="],[1,[30,1,["exposureTime"]]],[13],[1,"\\n"]],[]],null],[41,[30,1,["probability"]],[[[1,"    "],[10,"text"],[14,0,"node-prop"],[14,"x","25"],[14,"y","18"],[12],[1,"p="],[1,[28,[35,4],[[30,1,["probability"]]],null]],[13],[1,"\\n"]],[]],null],[13]],["@model","&attrs"],false,["on","did-insert","did-update","if","small-num"]]',moduleName:"fta-js/components/tree-node.hbs",isStrictMode:!1})
let c=(l=class extends n.default{constructor(){var e,t,r,n
super(...arguments),s(this,"andPath","m -20,20 h 40 v -16 c 0,-30  -40,-30 -40, 0 z"),s(this,"orPath","m -20,20 c 10,-10 30,-10 40,0 v -4 c 0,-20 -16,-36 -20,-36 c -4,0 -20,16 -20,36 z"),s(this,"basicEventPath","m -22,0 a 22,22 0 1,1 44,0 a 22,22 0 1,1 -44,0"),e=this,t="wrappedDesc",n=this,(r=a)&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}onMousedown(e){this.args.onSelect(this.args.model),e.stopPropagation()}get pathD(){return"and-gate"==this.args.model.nodeType?this.andPath:"or-gate"==this.args.model.nodeType?this.orPath:"basic-event"==this.args.model.nodeType?this.basicEventPath:void 0}wrapText(e,t){let[r,n]=t,i=e.firstElementChild,o=i.nextElementSibling,l=o.cloneNode(!1)
l.setAttributeNS(null,"visibility","hidden")
let a=document.createElementNS(null,"tspan"),s=document.createTextNode(r)
a.appendChild(s),l.appendChild(a)
document.getElementsByTagName("svg")[0].appendChild(l)
let u,d=r.split(" "),c="",f="",p=[]
for(let g=0;g<d.length;g++)f=c+d[g]+" ",l.textContent=f,u=l.getBBox().width,u>n?(p.push(c),c=d[g]+" "):c=f
p.push(c),l.remove(),o.innerHTML=""
for(const g of p){let e=document.createElementNS("http://www.w3.org/2000/svg","tspan")
e.textContent=g,e.setAttribute("x",0),e.setAttribute("dy","1.2em"),o.appendChild(e)}let b=o.getBBox()
i.setAttribute("x",-8),i.setAttribute("y",-2),i.setAttribute("width",b.width+16),i.setAttribute("height",b.height+10),r?i.setAttribute("display",null):i.setAttribute("display","none")
let m=-b.width/2,y=-b.height-40
e.setAttribute("transform",`translate(${m}, ${y})`)}},a=u(l.prototype,"wrappedDesc",[i.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.args.model.desc}}),u(l.prototype,"onMousedown",[o.action],Object.getOwnPropertyDescriptor(l.prototype,"onMousedown"),l.prototype),l)
e.default=c,(0,t.setComponentTemplate)(d,c)})),define("fta-js/controllers/builder",["exports","@ember/controller","@ember/object","@glimmer/tracking"],(function(e,t,r,n){var i,o
function l(e,t,r,n,i){var o={}
return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let a=(i=class extends t.default{constructor(){var e,t,r,n,i,l,a
super(...arguments),e=this,t="selectedId",n=this,(r=o)&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0}),a=["selectedId"],(l="queryParams")in(i=this)?Object.defineProperty(i,l,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[l]=a}select(e){this.selectedId=e.id}deselect(e){this.selectedId=null}get selected(){let e=this.model.nodes,t=this.model.edges
return e.concat(t).find((e=>e.id===this.selectedId))}wait(e){const t=Date.now()
let r=t
for(;r-t<e;)r=Date.now()}solveAll(){for(let e of this.model.nodes)e.minCutSets=this.model.findMCS(e.id),e.save()}},o=l(i.prototype,"selectedId",[n.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l(i.prototype,"select",[r.action],Object.getOwnPropertyDescriptor(i.prototype,"select"),i.prototype),l(i.prototype,"deselect",[r.action],Object.getOwnPropertyDescriptor(i.prototype,"deselect"),i.prototype),l(i.prototype,"solveAll",[r.action],Object.getOwnPropertyDescriptor(i.prototype,"solveAll"),i.prototype),i)
e.default=a})),define("fta-js/controllers/builders",["exports","@ember/controller","@ember/object","@ember/service"],(function(e,t,r,n){var i,o
function l(e,t,r,n,i){var o={}
return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let a=(i=class extends t.default{constructor(){var e,t,r,n
super(...arguments),e=this,t="store",n=this,(r=o)&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}createFaultTree(){this.store.createRecord("fault-tree").save()}deleteFaultTree(e){try{for(let t of e.nodes)t.deleteRecord(),t.save()}catch(t){console.warn("Skipping deletion of nodes because some of the associated records were not loaded."),console.warn(t)}try{for(let t of e.edges)t.deleteRecord(),t.save()}catch(t){console.warn("Skipping deletion of edges because some of the associated records were not loaded."),console.warn(t)}e.deleteRecord(),e.save()}},o=l(i.prototype,"store",[n.service],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l(i.prototype,"createFaultTree",[r.action],Object.getOwnPropertyDescriptor(i.prototype,"createFaultTree"),i.prototype),l(i.prototype,"deleteFaultTree",[r.action],Object.getOwnPropertyDescriptor(i.prototype,"deleteFaultTree"),i.prototype),i)
e.default=a})),define("fta-js/data-adapter",["exports","@ember-data/debug"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("fta-js/helpers/and",["exports","ember-truth-helpers/helpers/and"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"and",{enumerable:!0,get:function(){return t.and}}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("fta-js/helpers/app-version",["exports","@ember/component/helper","fta-js/config/environment","ember-cli-app-version/utils/regexp"],(function(e,t,r,n){function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
const i=r.default.APP.version
let o=t.versionOnly||t.hideSha,l=t.shaOnly||t.hideVersion,a=null
return o&&(t.showExtended&&(a=i.match(n.versionExtendedRegExp)),a||(a=i.match(n.versionRegExp))),l&&(a=i.match(n.shaRegExp)),a?a[0]:i}Object.defineProperty(e,"__esModule",{value:!0}),e.appVersion=i,e.default=void 0
var o=(0,t.helper)(i)
e.default=o}))
define("fta-js/helpers/assign",["exports","ember-assign-helper/helpers/assign"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"assign",{enumerable:!0,get:function(){return t.assign}}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("fta-js/helpers/cancel-all",["exports","ember-concurrency/helpers/cancel-all"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("fta-js/helpers/element",["exports","ember-element-helper/helpers/element"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("fta-js/helpers/ember-power-select-is-group",["exports","ember-power-select/helpers/ember-power-select-is-group"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"emberPowerSelectIsGroup",{enumerable:!0,get:function(){return t.emberPowerSelectIsGroup}})})),define("fta-js/helpers/ember-power-select-is-selected",["exports","ember-power-select/helpers/ember-power-select-is-selected"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"emberPowerSelectIsSelected",{enumerable:!0,get:function(){return t.emberPowerSelectIsSelected}})})),define("fta-js/helpers/ensure-safe-component",["exports","@embroider/util"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.EnsureSafeComponentHelper}})})),define("fta-js/helpers/eq",["exports","@ember/component/helper"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r=(0,t.helper)((function(e){return e[0]===e[1]}))
e.default=r})),define("fta-js/helpers/gt",["exports","ember-truth-helpers/helpers/gt"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"gt",{enumerable:!0,get:function(){return t.gt}})})),define("fta-js/helpers/gte",["exports","ember-truth-helpers/helpers/gte"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"gte",{enumerable:!0,get:function(){return t.gte}})})),define("fta-js/helpers/is-array",["exports","ember-truth-helpers/helpers/is-array"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"isArray",{enumerable:!0,get:function(){return t.isArray}})})),define("fta-js/helpers/is-empty",["exports","ember-truth-helpers/helpers/is-empty"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("fta-js/helpers/is-equal",["exports","ember-truth-helpers/helpers/is-equal"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"isEqual",{enumerable:!0,get:function(){return t.isEqual}})})),define("fta-js/helpers/lt",["exports","ember-truth-helpers/helpers/lt"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"lt",{enumerable:!0,get:function(){return t.lt}})})),define("fta-js/helpers/lte",["exports","ember-truth-helpers/helpers/lte"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"lte",{enumerable:!0,get:function(){return t.lte}})})),define("fta-js/helpers/not-eq",["exports","ember-truth-helpers/helpers/not-eq"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"notEqualHelper",{enumerable:!0,get:function(){return t.notEqualHelper}})})),define("fta-js/helpers/not",["exports","ember-truth-helpers/helpers/not"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"not",{enumerable:!0,get:function(){return t.not}})})),define("fta-js/helpers/or",["exports","ember-truth-helpers/helpers/or"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"or",{enumerable:!0,get:function(){return t.or}})})),define("fta-js/helpers/page-title",["exports","ember-page-title/helpers/page-title"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r=t.default
e.default=r})),define("fta-js/helpers/perform",["exports","ember-concurrency/helpers/perform"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("fta-js/helpers/pluralize",["exports","ember-inflector/lib/helpers/pluralize"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r=t.default
e.default=r})),define("fta-js/helpers/singularize",["exports","ember-inflector/lib/helpers/singularize"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r=t.default
e.default=r})),define("fta-js/helpers/small-num",["exports","@ember/component/helper"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r=(0,t.helper)((function(e){let t=parseFloat(e[0]),r=t.toPrecision(3)
return r.length<7?r:t.toExponential(2)}))
e.default=r})),define("fta-js/helpers/task",["exports","ember-concurrency/helpers/task"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("fta-js/helpers/xor",["exports","ember-truth-helpers/helpers/xor"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"xor",{enumerable:!0,get:function(){return t.xor}})})),define("fta-js/initializers/app-version",["exports","ember-cli-app-version/initializer-factory","fta-js/config/environment"],(function(e,t,r){let n,i
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r.default.APP&&(n=r.default.APP.name,i=r.default.APP.version)
var o={name:"App Version",initialize:(0,t.default)(n,i)}
e.default=o})),define("fta-js/initializers/container-debug-adapter",["exports","ember-resolver/resolvers/classic/container-debug-adapter"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r={name:"container-debug-adapter",initialize(){(arguments[1]||arguments[0]).register("container-debug-adapter:main",t.default)}}
e.default=r})),define("fta-js/initializers/ember-data-data-adapter",["exports","@ember-data/debug/setup"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("fta-js/initializers/ember-data",["exports","ember-data","ember-data/setup-container"],(function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n={name:"ember-data",initialize:r.default}
e.default=n})),define("fta-js/initializers/local-storage-adapter",["exports","ember-local-storage/initializers/local-storage-adapter"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"initialize",{enumerable:!0,get:function(){return t.initialize}})})),define("fta-js/instance-initializers/ember-data",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t={name:"ember-data",initialize(){}}
e.default=t}))
define("fta-js/models/fault-tree",["exports","@ember-data/model","fta-js/utils/mocus"],(function(e,t,r){var n,i,o,l,a,s,u
function d(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function c(e,t,r,n,i){var o={}
return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let f=(n=(0,t.attr)("string"),i=(0,t.hasMany)("tree-node",{async:!1,inverse:"faultTree"}),o=(0,t.hasMany)("tree-edge",{async:!1,inverse:"faultTree"}),l=class extends t.default{constructor(){super(...arguments),d(this,"title",a,this),d(this,"nodes",s,this),d(this,"edges",u,this)}findMCS(e){let t=this.nodes,n=this.edges,i={}
const o={"or-gate":"or","and-gate":"and"}
for(const r of t)Object.keys(o).includes(r.nodeType)&&(i[r.id]={id:r.id,kind:o[r.nodeType],children:[]})
for(const r of n){let e=r.parent,t=r.child
i[e.id].children.push(t.id)}return i=Object.values(i).map((e=>[e.id,e.kind,e.children])),(0,r.default)(i,e)}formatMocusResult(e){const t=this.nodes
return e.map((e=>e.map((e=>t.find((t=>t.id==e)).ref)).join("."))).join(" + ")}probFromMCS(e){let t={}
for(const n of this.nodes)"basic-event"==n.nodeType&&(t[n.id]=n.probability)
let r=0
for(const n of e){let e=1
for(const r of n)e*=t[r]
r+=e}return r}},a=c(l.prototype,"title",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=c(l.prototype,"nodes",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=c(l.prototype,"edges",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l)
e.default=f})),define("fta-js/models/tree-edge",["exports","@ember-data/model"],(function(e,t){var r,n,i,o,l,a,s
function u(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function d(e,t,r,n,i){var o={}
return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let c=(r=(0,t.belongsTo)("fault-tree",{async:!1,inverse:"edges"}),n=(0,t.belongsTo)("tree-node",{async:!1,inverse:"childEdges"}),i=(0,t.belongsTo)("tree-node",{async:!1,inverse:"parentEdges"}),o=class extends t.default{constructor(){super(...arguments),u(this,"faultTree",l,this),u(this,"child",a,this),u(this,"parent",s,this)}},l=d(o.prototype,"faultTree",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=d(o.prototype,"child",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=d(o.prototype,"parent",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o)
e.default=c})),define("fta-js/models/tree-node",["exports","@ember-data/model"],(function(e,t){var r,n,i,o,l,a,s,u,d,c,f,p,b,m,y,g,v,h,j,P,O,w
function _(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function x(e,t,r,n,i){var o={}
return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let z=(r=(0,t.attr)("number"),n=(0,t.attr)("number"),i=(0,t.attr)("string"),o=(0,t.attr)("string"),l=(0,t.attr)("string"),a=(0,t.attr)("number"),s=(0,t.attr)("number"),u=(0,t.belongsTo)("fault-tree",{async:!1,inverse:"nodes"}),d=(0,t.hasMany)("tree-edge",{async:!1,inverse:"child"}),c=(0,t.hasMany)("tree-edge",{async:!1,inverse:"parent"}),f=class extends t.default{constructor(){super(...arguments),_(this,"x",p,this),_(this,"y",b,this),_(this,"nodeType",m,this),_(this,"ref",y,this),_(this,"desc",g,this),_(this,"failureRate",v,this),_(this,"exposureTime",h,this),_(this,"minCutSets",j,this),_(this,"faultTree",P,this),_(this,"childEdges",O,this),_(this,"parentEdges",w,this)}get edges(){return this.childEdges.concat(this.parentEdges)}get probability(){return"basic-event"==this.nodeType?1-Math.exp(-this.failureRate*this.exposureTime):this.minCutSets?this.faultTree.probFromMCS(this.minCutSets):null}},p=x(f.prototype,"x",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=x(f.prototype,"y",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=x(f.prototype,"nodeType",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=x(f.prototype,"ref",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=x(f.prototype,"desc",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=x(f.prototype,"failureRate",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=x(f.prototype,"exposureTime",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=x(f.prototype,"minCutSets",[t.attr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=x(f.prototype,"faultTree",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=x(f.prototype,"childEdges",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=x(f.prototype,"parentEdges",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f)
e.default=z})),define("fta-js/modifiers/basic-dropdown-trigger",["exports","ember-basic-dropdown/modifiers/basic-dropdown-trigger"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("fta-js/modifiers/did-insert",["exports","@ember/render-modifiers/modifiers/did-insert"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("fta-js/modifiers/did-update",["exports","@ember/render-modifiers/modifiers/did-update"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("fta-js/modifiers/on-resize",["exports","ember-on-resize-modifier/modifiers/on-resize"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("fta-js/modifiers/style",["exports","ember-style-modifier/modifiers/style"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("fta-js/modifiers/will-destroy",["exports","@ember/render-modifiers/modifiers/will-destroy"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("fta-js/router",["exports","@ember/routing/router","fta-js/config/environment"],(function(e,t,r){function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{constructor(){super(...arguments),n(this,"location",r.default.locationType),n(this,"rootURL",r.default.rootURL)}}e.default=i,i.map((function(){this.route("builder",{path:"/builder/:fault_tree_id"}),this.route("builders")}))})),define("fta-js/routes/builder",["exports","@ember/routing/route","@ember/service"],(function(e,t,r){var n,i
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let o=(n=class extends t.default{constructor(){var e,t,r,n
super(...arguments),e=this,t="store",n=this,(r=i)&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}async model(e){return await this.store.query("tree-edge",{filter:{"fault-tree":e.fault_tree_id}}),await this.store.query("tree-node",{filter:{"fault-tree":e.fault_tree_id}}),this.store.findRecord("fault-tree",e.fault_tree_id)}},l=n.prototype,a="store",s=[r.service],u={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(u).forEach((function(e){c[e]=u[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=s.slice().reverse().reduce((function(e,t){return t(l,a,e)||e}),c),d&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(d):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(l,a,c),c=null),i=c,n)
var l,a,s,u,d,c
e.default=o})),define("fta-js/routes/builders",["exports","@ember/routing/route","@ember/service"],(function(e,t,r){var n,i
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let o=(n=class extends t.default{constructor(){var e,t,r,n
super(...arguments),e=this,t="store",n=this,(r=i)&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}async model(){return await this.store.findAll("tree-node"),await this.store.findAll("tree-edge"),this.store.findAll("fault-tree")}},l=n.prototype,a="store",s=[r.service],u={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(u).forEach((function(e){c[e]=u[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=s.slice().reverse().reduce((function(e,t){return t(l,a,e)||e}),c),d&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(d):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(l,a,c),c=null),i=c,n)
var l,a,s,u,d,c
e.default=o})),define("fta-js/routes/index",["exports","@ember/routing/route"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class r extends t.default{}e.default=r})),define("fta-js/serializers/-default",["exports","@ember-data/serializer/json"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("fta-js/serializers/-json-api",["exports","@ember-data/serializer/json-api"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("fta-js/serializers/-rest",["exports","@ember-data/serializer/rest"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("fta-js/serializers/application",["exports","ember-local-storage/serializers/serializer"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("fta-js/services/-ensure-registered",["exports","@embroider/util/services/ensure-registered"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("fta-js/services/page-title-list",["exports","ember-page-title/services/page-title-list"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("fta-js/services/page-title",["exports","ember-page-title/services/page-title"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("fta-js/services/resize-observer",["exports","ember-resize-observer-service/services/resize-observer"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("fta-js/services/store",["exports","ember-data/store"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("fta-js/services/text-measurer",["exports","ember-text-measurer/services/text-measurer"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("fta-js/templates/application",["exports","@ember/template-factory"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r=(0,t.createTemplateFactory)({id:"y4FREBWV",block:'[[[1,[28,[35,0],["FtaJs"],null]],[1,"\\n\\n"],[46,[28,[37,2],null,null],null,null,null]],[],false,["page-title","component","-outlet"]]',moduleName:"fta-js/templates/application.hbs",isStrictMode:!1})
e.default=r})),define("fta-js/templates/builder",["exports","@ember/template-factory"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r=(0,t.createTemplateFactory)({id:"A1KqLTW6",block:'[[[1,[28,[35,0],["Builder"],null]],[1,"\\n\\n"],[10,0],[14,0,"container"],[12],[1,"\\n  "],[10,0],[14,0,"content-left"],[12],[1,"\\n    "],[8,[39,1],null,[["@tree","@selected","@select","@deselect","@solveAll"],[[30,1],[30,0,["selected"]],[30,0,["select"]],[30,0,["deselect"]],[30,0,["solveAll"]]]],null],[1,"\\n  "],[13],[1,"\\n  "],[10,0],[14,0,"sidebar"],[12],[1,"\\n    "],[8,[39,2],[[24,0,"back-link"]],[["@route"],["builders"]],[["default"],[[[[1,"←"]],[]]]]],[1,"\\n    "],[8,[39,3],null,[["@model","@tree","@solveAll"],[[30,0,["selected"]],[30,1],[30,0,["solveAll"]]]],null],[1,"\\n  "],[13],[1,"\\n"],[13]],["@model"],false,["page-title","tree-builder","link-to","node-editor"]]',moduleName:"fta-js/templates/builder.hbs",isStrictMode:!1})
e.default=r})),define("fta-js/templates/builders",["exports","@ember/template-factory"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r=(0,t.createTemplateFactory)({id:"zeNX1jCy",block:'[[[10,0],[14,0,"builders-content"],[12],[1,"\\n  "],[10,"h1"],[12],[1,"Fault Trees"],[13],[1,"\\n  "],[10,"ul"],[12],[1,"\\n"],[42,[28,[37,1],[[28,[37,1],[[30,0,["model"]]],null]],null],null,[[[1,"      "],[10,"li"],[12],[1,"\\n        "],[8,[39,2],null,[["@route","@model"],["builder",[30,1,["id"]]]],[["default"],[[[[1,[30,1,["title"]]],[1," ("],[1,[30,1,["id"]]],[1,")"]],[]]]]],[1,"\\n        "],[11,"button"],[24,4,"button"],[4,[38,3],["click",[28,[37,4],[[30,0,["deleteFaultTree"]],[30,1]],null]],null],[12],[1,"X"],[13],[1,"\\n      "],[13],[1,"\\n"]],[1]],null],[1,"  "],[13],[1,"\\n  \\n  "],[11,"button"],[24,4,"button"],[4,[38,3],["click",[30,0,["createFaultTree"]]],null],[12],[1,"New Fault Tree"],[13],[1,"\\n"],[13]],["faultTree"],false,["each","-track-array","link-to","on","fn"]]',moduleName:"fta-js/templates/builders.hbs",isStrictMode:!1})
e.default=r})),define("fta-js/templates/index",["exports","@ember/template-factory"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r=(0,t.createTemplateFactory)({id:"SMktvUnm",block:'[[[1,[28,[35,0],["Index"],null]],[1,"\\n\\n"],[10,0],[14,1,"index"],[12],[1,"\\n  "],[10,0],[14,0,"hero"],[12],[1,"\\n    "],[10,0],[14,0,"content"],[12],[1,"\\n      Another "],[10,"b"],[12],[1,"Fault Tree Analysis"],[13],[1," Tool"],[10,"br"],[12],[13],[1,"\\n      "],[8,[39,1],[[24,0,"hero-action"]],[["@route"],["builders"]],[["default"],[[[[1,"builder →"]],[]]]]],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n  "],[10,0],[12],[1,"\\n    "],[10,0],[14,0,"content"],[12],[1,"\\n    "],[10,"h2"],[12],[1,"Features"],[13],[1,"\\n    "],[10,2],[12],[1,"Build a fault tree."],[13],[1,"\\n    "],[10,2],[12],[1,"Everything is in the browser\'s localstorage."],[13],[1,"\\n    "],[10,2],[12],[1,"If it stops working, probably relationships are broken. Try deleting the tree or\\n    all of localstorage."],[13],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"],[13],[1,"\\n"]],[],false,["page-title","link-to"]]',moduleName:"fta-js/templates/index.hbs",isStrictMode:!1})
e.default=r})),define("fta-js/transforms/boolean",["exports","@ember-data/serializer/-private"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.BooleanTransform}})})),define("fta-js/transforms/date",["exports","@ember-data/serializer/-private"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.DateTransform}})})),define("fta-js/transforms/number",["exports","@ember-data/serializer/-private"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.NumberTransform}})}))
define("fta-js/transforms/string",["exports","@ember-data/serializer/-private"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.StringTransform}})})),define("fta-js/utils/calculate-position",["exports","ember-basic-dropdown/utils/calculate-position"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("fta-js/utils/mocus",["exports"],(function(e){function t(e,t){let r=[null,null,null]
return e.every(((e,n)=>e.every(((e,i)=>!(e in t)||(r=[e,n,i],!1))))),r}function r(e,r){let n={}
e.forEach((e=>n[e[0]]=e))
let i=[[r]],[o,l,a]=t(i,n)
for(;null!==o;){let e=n[o][1],r=n[o][2]
"and"==e?(i[l][a]=r[0],i[l]=i[l].concat(r.slice(1))):"or"==e&&(i[l][a]=r[0],r.slice(1).forEach((e=>{let t=[...i[l]]
t[a]=e,i=i.concat([t])}))),[o,l,a]=t(i,n)}return i}function n(e,t){return[...e].every((e=>t.has(e)))}function i(e){(e=e.map((e=>new Set(e)))).sort(((e,t)=>e.size-t.size))
let t=[]
return e.forEach((e=>{t.map((t=>n(t,e))).some((e=>e))||t.push(e)})),t.map((e=>Array.from(e)))}Object.defineProperty(e,"__esModule",{value:!0}),e.buildMocusTable=r,e.default=function(e,t){return i(r(e,t))},e.findMCS=i,e.isSubset=n})),define("fta-js/config/environment",[],(function(){try{var e="fta-js/config/environment",t=document.querySelector('meta[name="'+e+'"]').getAttribute("content"),r={default:JSON.parse(decodeURIComponent(t))}
return Object.defineProperty(r,"__esModule",{value:!0}),r}catch(n){throw new Error('Could not read config from meta tag with name "'+e+'".')}})),runningTests||require("fta-js/app").default.create({name:"fta-js",version:"0.0.0+b7b9971f"})
